# Data 

## Sources
```{r}
projectdata <- read.csv("/Users/tianyuhan/Desktop/5702data.csv")
projectdata[projectdata == ''] <- NA
```

## Cleaning / transformation
```{r}
#remove columns with duplicate meanings 
df = subset(projectdata, select = -c(Crm.Cd, Weapon.Used.Cd, Premis.Cd))
```



## Missing value analysis
```{r fig.width = 11}
na<-sapply(df, function(x) sum(is.na(x)))
barplot(na[10:26],)
```

We used sapply with function to count the number of NAs in each column. Columns {Crm.Cd.2, Crm.Cd.3, Crm.Cd.4} have a significant number of values missing. The large number of missing values in these three columns are resulting from the fact that the majority of criminals are guilty of a single crime offense. There is very few criminal who commits more than one crime in one offense. Therefore, we decide to drop these three columns for our data analysis project in order to generate analysis on a more general pattern. For other columns that have missing values, we will keep the NAs, but we will not draw conclusions that rely heavily on the NA values of these columns. 

```{r}
library(extracat)
visna(df, sort='b')
```
Similar to what the previous graph has shown us, we are seeing a significant number of row missing from Crm.Cd.4, Crm.Cd.3, and Crm.Cd.2. Also, we are seeing that the columns of victim descent and victim sex are having the same missing pattern. We can safely deter that availabitiy of different information  about the victim is highly correlated. If the victim's sex is not on file, then its descent will not be on file, and vice versa. Therefore, keeping all these columns with missing values and their relative patterns in mind. We will be able to generate more thorough, unbiased findings without any interference caused by missing data. 

